# Video34 (1)

# Conceptos Principales

1. a
2. b
3. c

# Notas

## üé• **Resumen general**

El video explica c√≥mo funcionan los **archivos binarios de acceso directo e indexado**, su estructura interna, c√≥mo simulan punteros en disco y c√≥mo manejan problemas de **fragmentaci√≥n** (espacios vac√≠os al eliminar registros).

---

## ‚öôÔ∏è **1. Archivos de acceso directo (organizaci√≥n directa)**

### üî∏ Concepto

- Los registros tienen **tama√±o fijo**.
- A diferencia del acceso secuencial, **se pueden leer o escribir registros en cualquier posici√≥n del archivo** sin recorrer todos los anteriores.
- Se utilizan funciones como `fseek()` para moverse a una posici√≥n espec√≠fica (en bytes).

### üî∏ Ejemplo: Lista enlazada simple en disco

- Cada registro tiene:
    - **Datos (verde)**
    - **Puntero al siguiente (amarillo)**
- El puntero no es una direcci√≥n de memoria, sino un **n√∫mero de byte o posici√≥n en disco**.
    - Ejemplo:
        
        ```
        Registro 1 ‚Üí posici√≥n 54
        Registro 2 ‚Üí posici√≥n 72
        Registro 3 ‚Üí posici√≥n 36
        
        ```
        
- El valor `1` indica **nulo** (no hay siguiente).

### üî∏ Uso t√≠pico

- Cuando los datos son **muy grandes** y no caben todos en memoria.
- Permite **cargar solo una parte** del archivo seg√∫n se necesite.
- Ideal para operaciones **ocasionales** de lectura o actualizaci√≥n.

---

## üóÇÔ∏è **2. Archivos de organizaci√≥n indexada**

### üî∏ Estructura

- Se usan **dos archivos**:
    1. **Archivo de datos** ‚Üí contiene la informaci√≥n real.
    2. **Archivo √≠ndice** ‚Üí indica en qu√© posici√≥n (byte) est√° cada registro y su tama√±o.
- Gracias al √≠ndice:
    - Los registros **pueden tener distinto tama√±o**.
    - El √≠ndice **s√≠ usa registros de tama√±o fijo** (por ejemplo, 12 bytes: ID + posici√≥n + tama√±o).

### üî∏ Ejemplo pr√°ctico

- Similar al sistema de archivos **FAT (File Allocation Table)** de los discos duros:
    - El √≠ndice guarda el n√∫mero de bloque y la ubicaci√≥n del siguiente bloque del archivo.
    - Existen versiones **FAT16** y **FAT32**, seg√∫n el tama√±o (bits) de los punteros usados.

---

## üß© **3. Manejo de huecos y fragmentaci√≥n**

### üî∏ Problema

- Al eliminar registros, quedan **espacios libres** (‚Äúhuecos‚Äù) en el archivo.
- Esos huecos deben manejarse para evitar desperdicio de espacio y lentitud.

### üî∏ M√©todos para tratarlos

1. **Marcado simple (m√©todo feo pero f√°cil):**
    - Se marca el espacio como libre (por ejemplo, todo en 0).
    - Al insertar un nuevo registro, se busca desde el inicio el primer hueco disponible.
    - Simple, pero **lento e ineficiente** si hay muchos huecos.
2. **Archivo de huecos (m√©todo eficiente):**
    - Se mantiene un **archivo aparte** que guarda las posiciones libres.
    - Cuando se elimina algo, su posici√≥n se agrega al archivo de huecos.
    - Al insertar, se revisa si hay huecos disponibles antes de escribir al final.
    - Es **r√°pido, organizado y escalable**.
3. **Ignorar huecos (m√©todo del sistema operativo):**
    - Se siguen agregando registros al final sin preocuparse por los huecos.
    - Luego se realiza un proceso de **desfragmentaci√≥n**, que:
        - Compacta el archivo.
        - Actualiza todos los punteros.
    - Muy **lento y costoso**, por eso solo se usa en sistemas operativos (como Windows al ‚Äúdesfragmentar disco‚Äù).

---

## üìä **4. Comparaci√≥n r√°pida**

| Tipo de acceso | Estructura | Ventajas | Desventajas |
| --- | --- | --- | --- |
| **Secuencial** | Bloques consecutivos | Simple y r√°pido para lecturas ordenadas | No se puede saltar registros |
| **Directo** | Registros fijos + punteros en disco | Permite saltar a cualquier posici√≥n | Requiere gesti√≥n precisa de offsets |
| **Indexado** | Archivo de datos + archivo √≠ndice | Soporta tama√±os variables | Complejo de mantener, m√°s espacio |
| **Con huecos** | Maneja espacios libres | Reutiliza espacio | Puede fragmentarse si no se optimiza |

---

## üß† **Conclusi√≥n**

- Los **archivos de acceso directo** permiten moverse por posiciones espec√≠ficas del disco, simulando punteros.
- Los **archivos indexados** separan datos e √≠ndices, facilitando el acceso y la variaci√≥n de tama√±o.
- La **fragmentaci√≥n** es un problema natural del manejo din√°mico de archivos, y existen distintas estrategias (b√∫squeda, √≠ndice de huecos, desfragmentaci√≥n) para controlarla.